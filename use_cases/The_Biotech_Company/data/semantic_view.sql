create or replace semantic view AI_DEVELOPMENT.SI_BIOTECH.CLINICAL_TRIALS_MODEL
	tables (
		DIM_PATIENTS primary key (PATIENT_ID) with synonyms=('PATIENTS','SUBJECTS','PARTICIPANTS','PATIENT_DEMOGRAPHICS','PATIENT_INFO','STUDY_SUBJECTS','CLINICAL_SUBJECTS') comment='Master patient database containing demographic profiles, medical characteristics, and enrollment information for all patients participating in clinical trials. Use this table to analyze patient populations, demographics, geographic distribution, and enrollment patterns. Essential for patient recruitment analysis, population stratification, and clinical trial planning.',
		DIM_DRUGS primary key (DRUG_ID) with synonyms=('DRUGS','MEDICATIONS','COMPOUNDS','THERAPEUTICS','DRUG_CATALOG','INVESTIGATIONAL_DRUGS','STUDY_DRUGS','PHARMACEUTICAL_PRODUCTS') comment='Comprehensive drug catalog containing all investigational drugs, compounds, and therapeutics used in clinical trials. Includes drug classification, mechanism of action, therapeutic indication, dosage forms, and development costs. Essential for drug performance analysis, portfolio management, and R&D investment decisions.',
		DIM_SITES primary key (SITE_ID) with synonyms=('SITES','CLINICAL_SITES','TRIAL_SITES','RESEARCH_SITES','INVESTIGATION_SITES','MEDICAL_CENTERS','RESEARCH_FACILITIES') comment='Clinical trial site directory containing information about research facilities, hospitals, and medical centers conducting clinical trials. Includes site capabilities, investigator resources, geographic location, and certification levels. Critical for site selection, performance monitoring, and trial logistics planning.',
		DIM_TRIALS primary key (TRIAL_ID) with synonyms=('TRIALS','CLINICAL_TRIALS','STUDIES','CLINICAL_STUDIES','RESEARCH_STUDIES','PROTOCOLS','TRIAL_PROTOCOLS','STUDY_PROTOCOLS') comment='Clinical trial registry containing comprehensive information about all clinical studies including trial phases, status, endpoints, timelines, and sponsorship. Foundation for trial portfolio management, regulatory compliance tracking, and strategic R&D planning across the development pipeline.',
		FACT_TRIAL_RESULTS with synonyms=('TRIAL_RESULTS','CLINICAL_RESULTS','STUDY_RESULTS','PATIENT_OUTCOMES','TRIAL_DATA','CLINICAL_DATA','EFFICACY_DATA','SAFETY_DATA') comment='Clinical trial results database capturing patient outcomes, efficacy measurements, safety data, and treatment responses across all trials. Contains baseline and endpoint measurements, adverse events, compliance metrics, and treatment outcomes. Essential for efficacy analysis, safety monitoring, regulatory submissions, and drug development decisions.'
	)
	relationships (
		TRIAL_PATIENTS as FACT_TRIAL_RESULTS(PATIENT_ID) references DIM_PATIENTS(PATIENT_ID),
		TRIAL_DRUGS as FACT_TRIAL_RESULTS(DRUG_ID) references DIM_DRUGS(DRUG_ID),
		TRIAL_SITES as FACT_TRIAL_RESULTS(SITE_ID) references DIM_SITES(SITE_ID),
		TRIAL_STUDIES as FACT_TRIAL_RESULTS(TRIAL_ID) references DIM_TRIALS(TRIAL_ID)
	)
	facts (
		PUBLIC DIM_PATIENTS.AGE as AGE with synonyms=('patient_age','subject_age','age_years','years_old') comment='Age of the patient in years at time of enrollment.',
		PUBLIC DIM_PATIENTS.BMI as BMI with synonyms=('body_mass_index','weight_index','bmi_score') comment='Body Mass Index of the patient, calculated as weight in kilograms divided by height in meters squared.',
		PUBLIC DIM_DRUGS.DEVELOPMENT_COST_USD as DEVELOPMENT_COST_USD with synonyms=('drug_cost','development_expense','r_and_d_cost','investment_cost','compound_cost') comment='Total development cost for the drug in US dollars, including research, development, and clinical trial expenses.',
		PUBLIC DIM_SITES.INVESTIGATOR_COUNT as INVESTIGATOR_COUNT with synonyms=('investigator_number','site_investigators','research_staff_count','clinical_staff') comment='Number of qualified investigators and research staff at the clinical trial site.',
		PUBLIC DIM_TRIALS.PLANNED_ENROLLMENT as PLANNED_ENROLLMENT with synonyms=('target_enrollment','enrollment_target','planned_subjects','target_patients') comment='Planned number of patients to be enrolled in the clinical trial.',
		PUBLIC FACT_TRIAL_RESULTS.BASELINE_SCORE as BASELINE_SCORE with synonyms=('initial_score','pre_treatment_score','starting_measurement','baseline_measurement') comment='Patient baseline measurement score before treatment initiation.',
		PUBLIC FACT_TRIAL_RESULTS.ENDPOINT_SCORE as ENDPOINT_SCORE with synonyms=('final_score','post_treatment_score','end_measurement','outcome_score') comment='Patient endpoint measurement score after treatment completion.',
		PUBLIC FACT_TRIAL_RESULTS.IMPROVEMENT as IMPROVEMENT with synonyms=('change_score','treatment_effect','score_change','efficacy_change','response') comment='Change in patient score from baseline to endpoint, calculated as endpoint score minus baseline score.',
		PUBLIC FACT_TRIAL_RESULTS.ADVERSE_EVENTS as ADVERSE_EVENTS with synonyms=('ae_count','side_effects','adverse_reactions','safety_events') comment='Total number of adverse events experienced by the patient during the trial.',
		PUBLIC FACT_TRIAL_RESULTS.SERIOUS_ADVERSE_EVENTS as SERIOUS_ADVERSE_EVENTS with synonyms=('sae_count','serious_ae','life_threatening_events','serious_reactions') comment='Number of serious adverse events that are life-threatening or require hospitalization.',
		PUBLIC FACT_TRIAL_RESULTS.TREATMENT_DURATION_DAYS as TREATMENT_DURATION_DAYS with synonyms=('treatment_length','exposure_days','therapy_duration','treatment_period') comment='Duration of treatment in days that the patient received the investigational drug.',
		PUBLIC FACT_TRIAL_RESULTS.COMPLIANCE_RATE as COMPLIANCE_RATE with synonyms=('adherence_rate','compliance_percentage','medication_compliance','treatment_adherence') comment='Patient compliance rate with the treatment protocol, expressed as a decimal between 0 and 1.'
	)
	dimensions (
		PUBLIC DIM_PATIENTS.PATIENT_ID as PATIENT_ID with synonyms=('subject_id','patient_key','participant_id','subject_number','patient_number') comment='Unique identifier for each patient participating in clinical trials.',
		PUBLIC DIM_PATIENTS.GENDER as GENDER with synonyms=('sex','patient_gender','subject_gender','biological_sex') comment='Gender of the patient, either Male or Female.',
		PUBLIC DIM_PATIENTS.ETHNICITY as ETHNICITY with synonyms=('race','ethnic_group','patient_ethnicity','demographic_group') comment='Ethnic background of the patient for diversity and stratification analysis.',
		PUBLIC DIM_PATIENTS.COUNTRY as COUNTRY with synonyms=('nation','patient_country','enrollment_country','geographic_location') comment='Country where the patient was enrolled in the clinical trial.',
		PUBLIC DIM_PATIENTS.ENROLLMENT_DATE as ENROLLMENT_DATE with synonyms=('enrollment_date','study_entry_date','consent_date','randomization_date') comment='Date when the patient was enrolled into the clinical trial.',
		PUBLIC DIM_DRUGS.DRUG_ID as DRUG_ID with synonyms=('compound_id','drug_key','medication_id','therapeutic_id') comment='Unique identifier for each investigational drug or compound.',
		PUBLIC DIM_DRUGS.DRUG_NAME as DRUG_NAME with synonyms=('compound_name','medication_name','therapeutic_name','drug_title') comment='Name of the investigational drug or therapeutic compound.',
		PUBLIC DIM_DRUGS.CATEGORY as CATEGORY with synonyms=('drug_category','therapeutic_area','medical_specialty','indication_area') comment='Therapeutic category or medical specialty area for the drug (e.g., Oncology, Cardiology, Neurology).',
		PUBLIC DIM_DRUGS.MECHANISM as MECHANISM with synonyms=('mechanism_of_action','drug_mechanism','therapeutic_mechanism','action_mechanism') comment='Mechanism of action describing how the drug works (e.g., Small Molecule, Monoclonal Antibody).',
		PUBLIC DIM_DRUGS.INDICATION as INDICATION with synonyms=('therapeutic_indication','target_disease','medical_condition','treatment_indication') comment='Medical condition or disease that the drug is intended to treat.',
		PUBLIC DIM_DRUGS.DOSAGE_FORM as DOSAGE_FORM with synonyms=('formulation','drug_form','administration_form','delivery_method') comment='Physical form of the drug for administration (e.g., Tablet, Injection, Capsule).',
		PUBLIC DIM_SITES.SITE_ID as SITE_ID with synonyms=('site_key','center_id','facility_id','location_id') comment='Unique identifier for each clinical trial site or research facility.',
		PUBLIC DIM_SITES.SITE_NAME as SITE_NAME with synonyms=('facility_name','center_name','hospital_name','institution_name') comment='Name of the clinical trial site, medical center, or research facility.',
		PUBLIC DIM_SITES.CITY as CITY with synonyms=('site_city','location_city','facility_city','center_city') comment='City where the clinical trial site is located.',
		PUBLIC DIM_SITES.COUNTRY as COUNTRY with synonyms=('site_country','location_country','facility_country','center_country') comment='Country where the clinical trial site is located.',
		PUBLIC DIM_SITES.SITE_TYPE as SITE_TYPE with synonyms=('facility_type','center_type','institution_type','site_category') comment='Type of clinical trial site (e.g., Hospital, Research Institute, Private Clinic).',
		PUBLIC DIM_SITES.CERTIFICATION_LEVEL as CERTIFICATION_LEVEL with synonyms=('site_certification','qualification_level','accreditation_level','site_qualification') comment='Certification or qualification level of the clinical trial site.',
		PUBLIC DIM_TRIALS.TRIAL_ID as TRIAL_ID with synonyms=('study_id','protocol_id','trial_key','study_number') comment='Unique identifier for each clinical trial or study protocol.',
		PUBLIC DIM_TRIALS.TRIAL_NAME as TRIAL_NAME with synonyms=('study_name','protocol_name','trial_title','study_title') comment='Name or title of the clinical trial or research study.',
		PUBLIC DIM_TRIALS.PHASE as PHASE with synonyms=('trial_phase','study_phase','clinical_phase','development_phase') comment='Clinical development phase (Phase I, Phase II, Phase III) indicating the stage of drug development.',
		PUBLIC DIM_TRIALS.STATUS as STATUS with synonyms=('trial_status','study_status','protocol_status','trial_state') comment='Current status of the clinical trial (Completed, Ongoing, Terminated, Suspended).',
		PUBLIC DIM_TRIALS.PRIMARY_ENDPOINT as PRIMARY_ENDPOINT with synonyms=('primary_outcome','main_endpoint','key_endpoint','primary_measure') comment='Primary efficacy or safety endpoint that the trial is designed to measure.',
		PUBLIC DIM_TRIALS.START_DATE as START_DATE with synonyms=('trial_start_date','study_initiation_date','protocol_start_date','first_patient_in') comment='Date when the clinical trial was initiated or started.',
		PUBLIC DIM_TRIALS.END_DATE as END_DATE with synonyms=('trial_end_date','study_completion_date','protocol_end_date','last_patient_out') comment='Date when the clinical trial was completed or ended.',
		PUBLIC DIM_TRIALS.SPONSOR as SPONSOR with synonyms=('trial_sponsor','study_sponsor','funding_organization','pharmaceutical_company') comment='Organization or company sponsoring and funding the clinical trial.',
		PUBLIC FACT_TRIAL_RESULTS.RESULT_ID as RESULT_ID with synonyms=('record_id','result_key','outcome_id','data_id') comment='Unique identifier for each trial result record.',
		PUBLIC FACT_TRIAL_RESULTS.TREATMENT_ARM as TREATMENT_ARM with synonyms=('study_arm','treatment_group','randomization_arm','therapy_group') comment='Treatment arm or group assignment for the patient (Treatment, Placebo, Control).',
		PUBLIC FACT_TRIAL_RESULTS.OUTCOME as OUTCOME with synonyms=('treatment_outcome','clinical_outcome','response_outcome','trial_outcome') comment='Overall treatment outcome classification (Success, Failure, Partial Response, No Response).',
		PUBLIC FACT_TRIAL_RESULTS.VISIT_DATE as VISIT_DATE with synonyms=('assessment_date','evaluation_date','measurement_date','outcome_date') comment='Date when the patient outcome was assessed or measured.'
	)
	metrics (
		PUBLIC FACT_TRIAL_RESULTS.TOTAL_PATIENTS as COUNT(DISTINCT PATIENT_ID) with synonyms=('patient_count','subject_count','enrollment_count','participant_count') comment='Total number of unique patients enrolled across all trials.',
		PUBLIC FACT_TRIAL_RESULTS.AVERAGE_IMPROVEMENT as AVG(IMPROVEMENT) with synonyms=('mean_improvement','avg_response','mean_efficacy','average_response') comment='Average improvement score across all patients, calculated as the mean change from baseline to endpoint.',
		PUBLIC FACT_TRIAL_RESULTS.SUCCESS_RATE as AVG(CASE WHEN OUTCOME = 'Success' THEN 1.0 ELSE 0.0 END) with synonyms=('efficacy_rate','response_rate','success_percentage','positive_outcome_rate') comment='Percentage of patients with successful treatment outcomes.',
		PUBLIC FACT_TRIAL_RESULTS.TOTAL_ADVERSE_EVENTS as SUM(ADVERSE_EVENTS) with synonyms=('total_ae','ae_count','safety_events_total','adverse_event_count') comment='Total number of adverse events across all patients and trials.',
		PUBLIC FACT_TRIAL_RESULTS.AVERAGE_COMPLIANCE as AVG(COMPLIANCE_RATE) with synonyms=('mean_compliance','avg_adherence','compliance_percentage','adherence_rate') comment='Average patient compliance rate with treatment protocols.',
		PUBLIC FACT_TRIAL_RESULTS.TOTAL_TREATMENT_DAYS as SUM(TREATMENT_DURATION_DAYS) with synonyms=('total_exposure_days','cumulative_treatment_time','total_therapy_days') comment='Total cumulative treatment days across all patients.'
	)
	with extension (CA='{"tables":[{"name":"DIM_PATIENTS","dimensions":[{"name":"PATIENT_ID","sample_values":["PAT_0001","PAT_0002","PAT_0003"]},{"name":"GENDER","sample_values":["Male","Female"],"is_enum":true},{"name":"ETHNICITY","sample_values":["Caucasian","Hispanic","African American","Asian","Other"],"is_enum":true},{"name":"COUNTRY","sample_values":["United States","Canada","United Kingdom","Germany","France"]}],"facts":[{"name":"AGE","sample_values":["45","67","32"]},{"name":"BMI","sample_values":["25.3","28.7","22.1"]}],"time_dimensions":[{"name":"ENROLLMENT_DATE","sample_values":["2023-03-15","2023-07-22","2023-11-08"]}]},{"name":"DIM_DRUGS","dimensions":[{"name":"DRUG_ID","sample_values":["DRG_001","DRG_002","DRG_003"]},{"name":"DRUG_NAME","sample_values":["AlphaCure","BetaHeal","GammaTreat"]},{"name":"CATEGORY","sample_values":["Oncology","Cardiology","Neurology","Immunology","Endocrinology"],"is_enum":true},{"name":"MECHANISM","sample_values":["Small Molecule","Monoclonal Antibody","Protein","Gene Therapy"],"is_enum":true},{"name":"INDICATION","sample_values":["Cancer","Heart Disease","Alzheimers","Diabetes","Arthritis"],"is_enum":true},{"name":"DOSAGE_FORM","sample_values":["Tablet","Injection","Capsule","IV Infusion"],"is_enum":true}],"facts":[{"name":"DEVELOPMENT_COST_USD","sample_values":["150000000","275000000","89000000"]}]},{"name":"DIM_SITES","dimensions":[{"name":"SITE_ID","sample_values":["SITE_001","SITE_002","SITE_003"]},{"name":"SITE_NAME","sample_values":["New York Medical Center","Los Angeles Medical Center","Chicago Medical Center"]},{"name":"CITY","sample_values":["New York","Los Angeles","Chicago","London","Toronto"]},{"name":"COUNTRY","sample_values":["USA","UK","Canada","Germany","France"]},{"name":"SITE_TYPE","sample_values":["Hospital","Research Institute","Private Clinic"],"is_enum":true},{"name":"CERTIFICATION_LEVEL","sample_values":["Level 1","Level 2","Level 3"],"is_enum":true}],"facts":[{"name":"INVESTIGATOR_COUNT","sample_values":["12","18","7"]}]},{"name":"DIM_TRIALS","dimensions":[{"name":"TRIAL_ID","sample_values":["TRL_001","TRL_002","TRL_003"]},{"name":"TRIAL_NAME","sample_values":["Clinical Study 1","Clinical Study 2","Clinical Study 3"]},{"name":"PHASE","sample_values":["Phase I","Phase II","Phase III"],"is_enum":true},{"name":"STATUS","sample_values":["Completed","Ongoing","Terminated","Suspended"],"is_enum":true},{"name":"PRIMARY_ENDPOINT","sample_values":["Safety","Efficacy","Dosage","Biomarker Response"],"is_enum":true},{"name":"SPONSOR","sample_values":["BioTech Corp","Pharma Global","Research Institute","Medical University"],"is_enum":true}],"facts":[{"name":"PLANNED_ENROLLMENT","sample_values":["150","300","75"]}],"time_dimensions":[{"name":"START_DATE","sample_values":["2022-01-15","2022-06-30","2023-02-14"]},{"name":"END_DATE","sample_values":["2023-12-20","2024-08-15","2024-11-30"]}]},{"name":"FACT_TRIAL_RESULTS","dimensions":[{"name":"RESULT_ID","sample_values":["RES_000001","RES_000002","RES_000003"]},{"name":"TRIAL_ID","sample_values":["TRL_001","TRL_002","TRL_003"]},{"name":"PATIENT_ID","sample_values":["PAT_0001","PAT_0002","PAT_0003"]},{"name":"DRUG_ID","sample_values":["DRG_001","DRG_002","DRG_003"]},{"name":"SITE_ID","sample_values":["SITE_001","SITE_002","SITE_003"]},{"name":"TREATMENT_ARM","sample_values":["Treatment","Placebo","Control"],"is_enum":true},{"name":"OUTCOME","sample_values":["Success","Failure","Partial Response","No Response"],"is_enum":true}],"facts":[{"name":"BASELINE_SCORE","sample_values":["45","67","38"]},{"name":"ENDPOINT_SCORE","sample_values":["62","71","55"]},{"name":"IMPROVEMENT","sample_values":["17","4","17"]},{"name":"ADVERSE_EVENTS","sample_values":["2","0","3"]},{"name":"SERIOUS_ADVERSE_EVENTS","sample_values":["0","0","1"]},{"name":"TREATMENT_DURATION_DAYS","sample_values":["180","365","90"]},{"name":"COMPLIANCE_RATE","sample_values":["0.95","0.87","0.92"]}],"metrics":[{"name":"TOTAL_PATIENTS"},{"name":"AVERAGE_IMPROVEMENT"},{"name":"SUCCESS_RATE"},{"name":"TOTAL_ADVERSE_EVENTS"},{"name":"AVERAGE_COMPLIANCE"},{"name":"TOTAL_TREATMENT_DAYS"}],"time_dimensions":[{"name":"VISIT_DATE","sample_values":["2023-08-15","2023-11-22","2024-01-10"]}]}],"relationships":[{"name":"TRIAL_PATIENTS"},{"name":"TRIAL_DRUGS"},{"name":"TRIAL_SITES"},{"name":"TRIAL_STUDIES"}],"verified_queries":[{"name":"What is the average improvement score by drug category?","question":"What is the average improvement score by drug category?","sql":"SELECT\\n  d.category,\\n  AVG(f.improvement) as avg_improvement_score,\\n  COUNT(DISTINCT f.patient_id) as patient_count\\nFROM\\n  fact_trial_results f\\n  JOIN dim_drugs d ON f.drug_id = d.drug_id\\nGROUP BY\\n  d.category\\nORDER BY\\n  avg_improvement_score DESC","use_as_onboarding_question":true,"verified_by":"System","verified_at":1755070099},{"name":"Which sites had the most adverse events?","question":"Which sites had the most adverse events?","sql":"SELECT\\n  s.site_name,\\n  s.city,\\n  s.country,\\n  SUM(f.adverse_events) as total_adverse_events,\\n  COUNT(DISTINCT f.patient_id) as patient_count\\nFROM\\n  fact_trial_results f\\n  JOIN dim_sites s ON f.site_id = s.site_id\\nGROUP BY\\n  s.site_name, s.city, s.country\\nORDER BY\\n  total_adverse_events DESC\\nLIMIT 10","use_as_onboarding_question":true,"verified_by":"System","verified_at":1755070199},{"name":"What is the success rate for Phase III trials?","question":"What is the success rate for Phase III trials?","sql":"SELECT\\n  t.phase,\\n  AVG(CASE WHEN f.outcome = ''Success'' THEN 1.0 ELSE 0.0 END) as success_rate,\\n  COUNT(DISTINCT f.patient_id) as total_patients,\\n  COUNT(DISTINCT t.trial_id) as trial_count\\nFROM\\n  fact_trial_results f\\n  JOIN dim_trials t ON f.trial_id = t.trial_id\\nWHERE\\n  t.phase = ''Phase III''\\nGROUP BY\\n  t.phase","use_as_onboarding_question":true,"verified_by":"System","verified_at":1755070299},{"name":"Show patient demographics for successful treatments","question":"Show patient demographics for successful treatments","sql":"SELECT\\n  p.gender,\\n  p.ethnicity,\\n  CASE\\n    WHEN p.age < 30 THEN ''Under 30''\\n    WHEN p.age < 50 THEN ''30-49''\\n    WHEN p.age < 65 THEN ''50-64''\\n    ELSE ''65+''\\n  END as age_group,\\n  COUNT(DISTINCT f.patient_id) as successful_patients,\\n  AVG(f.improvement) as avg_improvement\\nFROM\\n  fact_trial_results f\\n  JOIN dim_patients p ON f.patient_id = p.patient_id\\nWHERE\\n  f.outcome = ''Success''\\nGROUP BY\\n  p.gender, p.ethnicity, age_group\\nORDER BY\\n  successful_patients DESC","use_as_onboarding_question":false,"verified_by":"System","verified_at":1755070399},{"name":"Which drugs had the highest compliance rates?","question":"Which drugs had the highest compliance rates?","sql":"SELECT\\n  d.drug_name,\\n  d.category,\\n  d.mechanism,\\n  AVG(f.compliance_rate) as avg_compliance_rate,\\n  COUNT(DISTINCT f.patient_id) as patient_count,\\n  AVG(f.improvement) as avg_improvement\\nFROM\\n  fact_trial_results f\\n  JOIN dim_drugs d ON f.drug_id = d.drug_id\\nGROUP BY\\n  d.drug_name, d.category, d.mechanism\\nHAVING\\n  COUNT(DISTINCT f.patient_id) >= 10\\nORDER BY\\n  avg_compliance_rate DESC\\nLIMIT 10","use_as_onboarding_question":false,"verified_by":"System","verified_at":1755070499}]}');